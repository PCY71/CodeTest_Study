/* 17684번 문제
KAKAO BLIND RECRUITMENT [3차]압축*/

function solution(msg) {
    const answer = [];
    //사전 초기화
    const dict = [''];
    let init = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
    for (const char of init) {
        dict.push(char);
    }

    //입력받은 메시지 사전과 비교하여 출력
    for (let i = 0; i < msg.length; i++) {
        let cur = msg.charAt(i);
        let merge = msg.charAt(i) + msg.charAt(i + 1);

        while (check_word(dict, merge)) {
            i++;
            if (i >= msg.length) break;
            cur = merge;
            merge = merge + msg.charAt(i + 1);
        }

        answer.push(dict.findIndex((el) => el === cur));
        if (i >= msg.length) break;
        dict.push(merge);
    }

    return answer
}

const check_word = (dict, word) => {
    return dict.find((el) => el === word) ? true : false
}

const test1 = "KAKAO";
const test2 = "TOBEORNOTTOBEORTOBEORNOT";
const test3 = "ABABABABABABABAB";
const test4 = "THATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITIS";

console.log(solution(test1));
console.log(solution(test2));
console.log(solution(test3));
console.log(solution(test4));